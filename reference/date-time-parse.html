<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Parsing: date-time — date-time-parse • clock</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Parsing: date-time — date-time-parse" />
<meta property="og:description" content="There are three parsers for parsing strings into POSIXct date-times,
date_time_parse(), date_time_parse_complete(), and
date_time_parse_abbrev().date_time_parse()


date_time_parse() is useful for strings like &quot;2019-01-01 00:00:00&quot;, where
the UTC offset and full time zone name are not present in the string. The
string is first parsed as a naive-time without any time zone assumptions, and
is then converted to a POSIXct with the supplied zone.
Because converting from naive-time to POSIXct may result in nonexistent or
ambiguous times due to daylight saving time, these must be resolved
explicitly with the nonexistent and ambiguous arguments.
date_time_parse() completely ignores the %z and %Z commands. The only
time zone specific information that is used is the zone.
The default format used is &quot;%Y-%m-%d %H:%M:%S&quot;.

date_time_parse_complete()


date_time_parse_complete() is a parser for complete date-time strings,
like &quot;2019-01-01 00:00:00-05:00[America/New_York]&quot;. A complete date-time
string has both the time zone offset and full time zone name in the string,
which is the only way for the string itself to contain all of the information
required to construct a zoned-time. Because of this,
date_time_parse_complete() requires both the %z and %Z commands to be
supplied in the format string.
The default format used is &quot;%Y-%m-%d %H:%M:%S%Ez[%Z]&quot;.

date_time_parse_abbrev()


date_time_parse_abbrev() is a parser for date-time strings containing only
a time zone abbreviation, like &quot;2019-01-01 00:00:00 EST&quot;. The time zone
abbreviation is not enough to identify the full time zone name that the
date-time belongs to, so the full time zone name must be supplied as the
zone argument. However, the time zone abbreviation can help with resolving
ambiguity around daylight saving time fallbacks.
For date_time_parse_abbrev(), %Z must be supplied and is interpreted as
the time zone abbreviation rather than the full time zone name.
If used, the %z command must parse correctly, but its value will be
completely ignored.
The default format used is &quot;%Y-%m-%d %H:%M:%S %Z&quot;.
" />
<meta property="og:image" content="https://clock.r-lib.org/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">clock</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/clock.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/articles/motivations.html">Motivations for clock</a>
    </li>
    <li>
      <a href="../articles/faq.html">Frequently Asked Questions</a>
    </li>
    <li>
      <a href="../articles/recipes.html">Examples and Recipes</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Releases</li>
    <li>
      <a href="https://www.tidyverse.org/blog/2021/03/clock-0-1-0/">Version 0.1.0</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../news/index.html">Changelog</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/r-lib/clock/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Parsing: date-time</h1>
    <small class="dont-index">Source: <a href='https://github.com/r-lib/clock/blob/master/R/posixt.R'><code>R/posixt.R</code></a></small>
    <div class="hidden name"><code>date-time-parse.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>There are three parsers for parsing strings into POSIXct date-times,
<code>date_time_parse()</code>, <code>date_time_parse_complete()</code>, and
<code>date_time_parse_abbrev()</code>.</p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>date_time_parse()</h3>


<p><code>date_time_parse()</code> is useful for strings like <code>"2019-01-01 00:00:00"</code>, where
the UTC offset and full time zone name are not present in the string. The
string is first parsed as a naive-time without any time zone assumptions, and
is then converted to a POSIXct with the supplied <code>zone</code>.</p>
<p>Because converting from naive-time to POSIXct may result in nonexistent or
ambiguous times due to daylight saving time, these must be resolved
explicitly with the <code>nonexistent</code> and <code>ambiguous</code> arguments.</p>
<p><code>date_time_parse()</code> completely ignores the <code>%z</code> and <code>%Z</code> commands. The only
time zone specific information that is used is the <code>zone</code>.</p>
<p>The default <code>format</code> used is <code>"%Y-%m-%d %H:%M:%S"</code>.</p>

<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>date_time_parse_complete()</h3>


<p><code>date_time_parse_complete()</code> is a parser for <em>complete</em> date-time strings,
like <code>"2019-01-01 00:00:00-05:00[America/New_York]"</code>. A complete date-time
string has both the time zone offset and full time zone name in the string,
which is the only way for the string itself to contain all of the information
required to construct a zoned-time. Because of this,
<code>date_time_parse_complete()</code> requires both the <code>%z</code> and <code>%Z</code> commands to be
supplied in the <code>format</code> string.</p>
<p>The default <code>format</code> used is <code>"%Y-%m-%d %H:%M:%S%Ez[%Z]"</code>.</p>

<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>date_time_parse_abbrev()</h3>


<p><code>date_time_parse_abbrev()</code> is a parser for date-time strings containing only
a time zone abbreviation, like <code>"2019-01-01 00:00:00 EST"</code>. The time zone
abbreviation is not enough to identify the full time zone name that the
date-time belongs to, so the full time zone name must be supplied as the
<code>zone</code> argument. However, the time zone abbreviation can help with resolving
ambiguity around daylight saving time fallbacks.</p>
<p>For <code>date_time_parse_abbrev()</code>, <code>%Z</code> must be supplied and is interpreted as
the time zone abbreviation rather than the full time zone name.</p>
<p>If used, the <code>%z</code> command must parse correctly, but its value will be
completely ignored.</p>
<p>The default <code>format</code> used is <code>"%Y-%m-%d %H:%M:%S %Z"</code>.</p>

    </div>

    <pre class="usage"><span class='fu'>date_time_parse</span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>zone</span>,
  <span class='va'>...</span>,
  format <span class='op'>=</span> <span class='cn'>NULL</span>,
  locale <span class='op'>=</span> <span class='fu'><a href='clock_locale.html'>clock_locale</a></span><span class='op'>(</span><span class='op'>)</span>,
  nonexistent <span class='op'>=</span> <span class='cn'>NULL</span>,
  ambiguous <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span>

<span class='fu'>date_time_parse_complete</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span>, format <span class='op'>=</span> <span class='cn'>NULL</span>, locale <span class='op'>=</span> <span class='fu'><a href='clock_locale.html'>clock_locale</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>

<span class='fu'>date_time_parse_abbrev</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>zone</span>, <span class='va'>...</span>, format <span class='op'>=</span> <span class='cn'>NULL</span>, locale <span class='op'>=</span> <span class='fu'><a href='clock_locale.html'>clock_locale</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p><code>[character]</code></p>
<p>A character vector to parse.</p></td>
    </tr>
    <tr>
      <th>zone</th>
      <td><p><code>[character(1)]</code></p>
<p>A full time zone name.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>These dots are for future extensions and must be empty.</p></td>
    </tr>
    <tr>
      <th>format</th>
      <td><p><code>[character / NULL]</code></p>
<p>A format string. A combination of the following commands, or <code>NULL</code>,
in which case a default format string is used.</p>
<p>A vector of multiple format strings can be supplied. They will be tried in
the order they are provided.</p>
<p><strong>Year</strong></p><ul>
<li><p><code>%C</code>: The century as a decimal number. The modified command <code>%NC</code> where
<code>N</code> is a positive decimal integer specifies the maximum number of
characters to read. If not specified, the default is <code>2</code>. Leading zeroes
are permitted but not required.</p></li>
<li><p><code>%y</code>: The last two decimal digits of the year. If the century is not
otherwise specified (e.g. with <code>%C</code>), values in the range <code>[69 - 99]</code> are
presumed to refer to the years <code>[1969 - 1999]</code>, and values in the range
<code>[00 - 68]</code> are presumed to refer to the years <code>[2000 - 2068]</code>. The
modified command <code>%Ny</code>, where <code>N</code> is a positive decimal integer, specifies
the maximum number of characters to read. If not specified, the default is
<code>2</code>. Leading zeroes are permitted but not required.</p></li>
<li><p><code>%Y</code>: The year as a decimal number. The modified command <code>%NY</code> where <code>N</code>
is a positive decimal integer specifies the maximum number of characters to
read. If not specified, the default is <code>4</code>. Leading zeroes are permitted
but not required.</p></li>
</ul>

<p><strong>Month</strong></p><ul>
<li><p><code>%b</code>, <code>%B</code>, <code>%h</code>: The <code>locale</code>'s full or abbreviated case-insensitive
month name.</p></li>
<li><p><code>%m</code>: The month as a decimal number. January is <code>1</code>. The modified command
<code>%Nm</code> where <code>N</code> is a positive decimal integer specifies the maximum number
of characters to read. If not specified, the default is <code>2</code>. Leading zeroes
are permitted but not required.</p></li>
</ul>

<p><strong>Day</strong></p><ul>
<li><p><code>%d</code>, <code>%e</code>: The day of the month as a decimal number. The modified
command <code>%Nd</code> where <code>N</code> is a positive decimal integer specifies the maximum
number of characters to read. If not specified, the default is <code>2</code>. Leading
zeroes are permitted but not required.</p></li>
</ul>

<p><strong>Day of the week</strong></p><ul>
<li><p><code>%a</code>, <code>%A</code>: The <code>locale</code>'s full or abbreviated case-insensitive weekday
name.</p></li>
<li><p><code>%w</code>: The weekday as a decimal number (<code>0-6</code>), where Sunday is <code>0</code>. The
modified command <code>%Nw</code> where <code>N</code> is a positive decimal integer specifies
the maximum number of characters to read. If not specified, the default is
<code>1</code>. Leading zeroes are permitted but not required.</p></li>
</ul>

<p><strong>ISO 8601 week-based year</strong></p><ul>
<li><p><code>%g</code>: The last two decimal digits of the ISO week-based year. The
modified command <code>%Ng</code> where <code>N</code> is a positive decimal integer specifies
the maximum number of characters to read. If not specified, the default is
<code>2</code>. Leading zeroes are permitted but not required.</p></li>
<li><p><code>%G</code>: The ISO week-based year as a decimal number. The modified command
<code>%NG</code> where <code>N</code> is a positive decimal integer specifies the maximum number
of characters to read. If not specified, the default is <code>4</code>. Leading zeroes
are permitted but not required.</p></li>
<li><p><code>%V</code>: The ISO week-based week number as a decimal number. The modified
command <code>%NV</code> where <code>N</code> is a positive decimal integer specifies the maximum
number of characters to read. If not specified, the default is <code>2</code>. Leading
zeroes are permitted but not required.</p></li>
<li><p><code>%u</code>: The ISO weekday as a decimal number (<code>1-7</code>), where Monday is <code>1</code>.
The modified command <code>%Nu</code> where <code>N</code> is a positive decimal integer
specifies the maximum number of characters to read. If not specified, the
default is <code>1</code>. Leading zeroes are permitted but not required.</p></li>
</ul>

<p><strong>Week of the year</strong></p><ul>
<li><p><code>%U</code>: The week number of the year as a decimal number. The first Sunday
of the year is the first day of week <code>01</code>. Days of the same year prior to
that are in week <code>00</code>. The modified command <code>%NU</code> where <code>N</code> is a positive
decimal integer specifies the maximum number of characters to read. If not
specified, the default is <code>2</code>. Leading zeroes are permitted but not
required.</p></li>
<li><p><code>%W</code>: The week number of the year as a decimal number. The first Monday
of the year is the first day of week <code>01</code>. Days of the same year prior to
that are in week <code>00</code>. The modified command <code>%NW</code> where <code>N</code> is a positive
decimal integer specifies the maximum number of characters to read. If not
specified, the default is <code>2</code>. Leading zeroes are permitted but not
required.</p></li>
</ul>

<p><strong>Day of the year</strong></p><ul>
<li><p><code>%j</code>: The day of the year as a decimal number. January 1 is <code>1</code>. The
modified command <code>%Nj</code> where <code>N</code> is a positive decimal integer specifies
the maximum number of characters to read. If not specified, the default is
<code>3</code>. Leading zeroes are permitted but not required.</p></li>
</ul>

<p><strong>Date</strong></p><ul>
<li><p><code>%D</code>, <code>%x</code>: Equivalent to <code>%m/%d/%y</code>.</p></li>
<li><p><code>%F</code>: Equivalent to <code>%Y-%m-%d</code>. If modified with a width (like <code>%NF</code>),
the width is applied to only <code>%Y</code>.</p></li>
</ul>

<p><strong>Time of day</strong></p><ul>
<li><p><code>%H</code>: The hour (24-hour clock) as a decimal number. The modified command
<code>%NH</code> where <code>N</code> is a positive decimal integer specifies the maximum number
of characters to read. If not specified, the default is <code>2</code>. Leading zeroes
are permitted but not required.</p></li>
<li><p><code>%I</code>: The hour (12-hour clock) as a decimal number. The modified command
<code>%NI</code> where <code>N</code> is a positive decimal integer specifies the maximum number
of characters to read. If not specified, the default is <code>2</code>. Leading zeroes
are permitted but not required.</p></li>
<li><p><code>%M</code>: The minutes as a decimal number. The modified command <code>%NM</code> where
<code>N</code> is a positive decimal integer specifies the maximum number of
characters to read. If not specified, the default is <code>2</code>. Leading zeroes
are permitted but not required.</p></li>
<li><p><code>%S</code>: The seconds as a decimal number. The modified command <code>%NS</code> where
<code>N</code> is a positive decimal integer specifies the maximum number of
characters to read. If not specified, the default is determined by the
precision that you are parsing at. If encountered, the <code>locale</code>
determines the decimal point character. Leading zeroes are permitted but
not required.</p></li>
<li><p><code>%p</code>: The <code>locale</code>'s equivalent of the AM/PM designations associated with
a 12-hour clock. The command <code>%I</code> must precede <code>%p</code> in the format string.</p></li>
<li><p><code>%R</code>: Equivalent to <code>%H:%M</code>.</p></li>
<li><p><code>%T</code>, <code>%X</code>: Equivalent to <code>%H:%M:%S</code>.</p></li>
<li><p><code>%r</code>: Equivalent to <code>%I:%M:%S %p</code>.</p></li>
</ul>

<p><strong>Time zone</strong></p><ul>
<li><p><code>%z</code>: The offset from UTC in the format <code>[+|-]hh[mm]</code>. For example
<code>-0430</code> refers to 4 hours 30 minutes behind UTC. And <code>04</code> refers to 4 hours
ahead of UTC. The modified command <code>%Ez</code> parses a <code><a href='https://rdrr.io/r/base/Colon.html'>:</a></code> between the hours and
minutes and leading zeroes on the hour field are optional:
<code>[+|-]h[h][:mm]</code>. For example <code>-04:30</code> refers to 4 hours 30 minutes behind
UTC. And <code>4</code> refers to 4 hours ahead of UTC.</p></li>
<li><p><code>%Z</code>: The full time zone name or the time zone abbreviation, depending on
the function being used. A single word is parsed. This word can only
contain characters that are alphanumeric, or one of <code>'_'</code>, <code>'/'</code>, <code>'-'</code> or
<code>'+'</code>.</p></li>
</ul>

<p><strong>Miscellaneous</strong></p><ul>
<li><p><code>%c</code>: A date and time representation. Equivalent to
<code>%a %b %d %H:%M:%S %Y</code>.</p></li>
<li><p><code><a href='https://rdrr.io/r/base/Arithmetic.html'>%%</a></code>: A <code>%</code> character.</p></li>
<li><p><code>%n</code>: Matches one white space character. <code>%n</code>, <code>%t</code>, and a space can be
combined to match a wide range of white-space patterns. For example <code>"%n "</code>
matches one or more white space characters, and <code>"%n%t%t"</code> matches one to
three white space characters.</p></li>
<li><p><code>%t</code>: Matches zero or one white space characters.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>locale</th>
      <td><p><code>[clock_locale]</code></p>
<p>A locale object created from <code><a href='clock_locale.html'>clock_locale()</a></code>.</p></td>
    </tr>
    <tr>
      <th>nonexistent</th>
      <td><p><code>[character / NULL]</code></p>
<p>One of the following nonexistent time resolution strategies, allowed to be
either length 1, or the same length as the input:</p><ul>
<li><p><code>"roll-forward"</code>: The next valid instant in time.</p></li>
<li><p><code>"roll-backward"</code>: The previous valid instant in time.</p></li>
<li><p><code>"shift-forward"</code>: Shift the nonexistent time forward by the size of
the daylight saving time gap.</p></li>
<li><p><code>"shift-backward</code>: Shift the nonexistent time backward by the size of
the daylight saving time gap.</p></li>
<li><p><code>"NA"</code>: Replace nonexistent times with <code>NA</code>.</p></li>
<li><p><code>"error"</code>: Error on nonexistent times.</p></li>
</ul>

<p>Using either <code>"roll-forward"</code> or <code>"roll-backward"</code> is generally
recommended over shifting, as these two strategies maintain the
<em>relative ordering</em> between elements of the input.</p>
<p>If <code>NULL</code>, defaults to <code>"error"</code>.</p>
<p>If <code><a href='https://rdrr.io/r/base/options.html'>getOption("clock.strict")</a></code> is <code>TRUE</code>, <code>nonexistent</code> must be supplied
and cannot be <code>NULL</code>. This is a convenient way to make production code
robust to nonexistent times.</p></td>
    </tr>
    <tr>
      <th>ambiguous</th>
      <td><p><code>[character / zoned_time / POSIXct / list(2) / NULL]</code></p>
<p>One of the following ambiguous time resolution strategies, allowed to be
either length 1, or the same length as the input:</p><ul>
<li><p><code>"earliest"</code>: Of the two possible times, choose the earliest one.</p></li>
<li><p><code>"latest"</code>: Of the two possible times, choose the latest one.</p></li>
<li><p><code>"NA"</code>: Replace ambiguous times with <code>NA</code>.</p></li>
<li><p><code>"error"</code>: Error on ambiguous times.</p></li>
</ul>

<p>Alternatively, <code>ambiguous</code> is allowed to be a zoned_time (or POSIXct) that
is either length 1, or the same length as the input. If an ambiguous time
is encountered, the zoned_time is consulted. If the zoned_time corresponds
to a naive_time that is also ambiguous <em>and</em> uses the same daylight saving
time transition point as the original ambiguous time, then the offset of
the zoned_time is used to resolve the ambiguity. If the ambiguity cannot be
resolved by consulting the zoned_time, then this method falls back to
<code>NULL</code>.</p>
<p>Finally, <code>ambiguous</code> is allowed to be a list of size 2, where the first
element of the list is a zoned_time (as described above), and the second
element of the list is an ambiguous time resolution strategy to use when
the ambiguous time cannot be resolved by consulting the zoned_time.
Specifying a zoned_time on its own is identical to <code>list(&lt;zoned_time&gt;, NULL)</code>.</p>
<p>If <code>NULL</code>, defaults to <code>"error"</code>.</p>
<p>If <code><a href='https://rdrr.io/r/base/options.html'>getOption("clock.strict")</a></code> is <code>TRUE</code>, <code>ambiguous</code> must be supplied and
cannot be <code>NULL</code>. Additionally, <code>ambiguous</code> cannot be specified as a
zoned_time on its own, as this implies <code>NULL</code> for ambiguous times that the
zoned_time cannot resolve. Instead, it must be specified as a list
alongside an ambiguous time resolution strategy as described above. This is
a convenient way to make production code robust to ambiguous times.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A POSIXct.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>If <code>date_time_parse_complete()</code> is given input that is length zero, all
<code>NA</code>s, or completely fails to parse, then no time zone will be able to be
determined. In that case, the result will use <code>"UTC"</code>.</p>
<p>If manually parsing sub-second components, be aware that they will be
automatically rounded to the nearest second when converting them to POSIXct.
See the examples for a way to control this.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Parse with a known `zone`, even though that information isn't in the string</span>
<span class='fu'>date_time_parse</span><span class='op'>(</span><span class='st'>"2020-01-01 05:06:07"</span>, <span class='st'>"America/New_York"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "2020-01-01 05:06:07 EST"</div><div class='input'>
<span class='co'># Same time as above, except this is a completely unambiguous parse that</span>
<span class='co'># doesn't require a `zone` argument, because the zone name and offset are</span>
<span class='co'># both present in the string</span>
<span class='fu'>date_time_parse_complete</span><span class='op'>(</span><span class='st'>"2020-01-01 05:06:07-05:00[America/New_York]"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "2020-01-01 05:06:07 EST"</div><div class='input'>
<span class='co'># Only day components</span>
<span class='fu'>date_time_parse</span><span class='op'>(</span><span class='st'>"2020-01-01"</span>, <span class='st'>"America/New_York"</span>, format <span class='op'>=</span> <span class='st'>"%Y-%m-%d"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "2020-01-01 EST"</div><div class='input'>
<span class='co'># `date_time_parse()` may have issues with ambiguous times due to daylight</span>
<span class='co'># saving time fallbacks. For example, there were two 1'oclock hours here:</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'>date_time_parse</span><span class='op'>(</span><span class='st'>"1970-10-25 00:59:59"</span>, <span class='st'>"America/New_York"</span><span class='op'>)</span>

<span class='co'># First (earliest) 1'oclock hour</span>
<span class='fu'><a href='clock-arithmetic.html'>add_seconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='fl'>1</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "1970-10-25 01:00:00 EDT"</div><div class='input'><span class='co'># Second (latest) 1'oclock hour</span>
<span class='fu'><a href='clock-arithmetic.html'>add_seconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='fl'>3601</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "1970-10-25 01:00:00 EST"</div><div class='input'>
<span class='co'># If you try to parse this ambiguous time directly, you'll get an error:</span>
<span class='va'>ambiguous_time</span> <span class='op'>&lt;-</span> <span class='st'>"1970-10-25 01:00:00"</span>
<span class='kw'><a href='https://rdrr.io/r/base/try.html'>try</a></span><span class='op'>(</span><span class='fu'>date_time_parse</span><span class='op'>(</span><span class='va'>ambiguous_time</span>, <span class='st'>"America/New_York"</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Error : Ambiguous time due to daylight saving time at location 1.
#&gt; <span style='color: #0000BB;'>ℹ</span><span> Resolve ambiguous time issues by specifying the `ambiguous` argument.</div><div class='input'>
<span class='co'># Resolve it by specifying whether you'd like to use the</span>
<span class='co'># `earliest` or `latest` of the two possible times</span>
<span class='fu'>date_time_parse</span><span class='op'>(</span><span class='va'>ambiguous_time</span>, <span class='st'>"America/New_York"</span>, ambiguous <span class='op'>=</span> <span class='st'>"earliest"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "1970-10-25 01:00:00 EDT"</div><div class='input'><span class='fu'>date_time_parse</span><span class='op'>(</span><span class='va'>ambiguous_time</span>, <span class='st'>"America/New_York"</span>, ambiguous <span class='op'>=</span> <span class='st'>"latest"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "1970-10-25 01:00:00 EST"</div><div class='input'>
<span class='co'># `date_time_parse_complete()` doesn't have these issues, as it requires</span>
<span class='co'># that the offset and zone name are both in the string, which resolves</span>
<span class='co'># the ambiguity</span>
<span class='va'>complete_times</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span>
  <span class='st'>"1970-10-25 01:00:00-04:00[America/New_York]"</span>,
  <span class='st'>"1970-10-25 01:00:00-05:00[America/New_York]"</span>
<span class='op'>)</span>
<span class='fu'>date_time_parse_complete</span><span class='op'>(</span><span class='va'>complete_times</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "1970-10-25 01:00:00 EDT" "1970-10-25 01:00:00 EST"</div><div class='input'>
<span class='co'># `date_time_parse_abbrev()` also doesn't have these issues, since it</span>
<span class='co'># uses the time zone abbreviation name to resolve the ambiguity</span>
<span class='va'>abbrev_times</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span>
  <span class='st'>"1970-10-25 01:00:00 EDT"</span>,
  <span class='st'>"1970-10-25 01:00:00 EST"</span>
<span class='op'>)</span>
<span class='fu'>date_time_parse_abbrev</span><span class='op'>(</span><span class='va'>abbrev_times</span>, <span class='st'>"America/New_York"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "1970-10-25 01:00:00 EDT" "1970-10-25 01:00:00 EST"</div><div class='input'>
<span class='co'># ---------------------------------------------------------------------------</span>
<span class='co'># Rounding of sub-second components</span>

<span class='co'># Generally, if you have a string with sub-second components, they will</span>
<span class='co'># be ignored when parsing into a date-time</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"2019-01-01 00:00:01.1"</span>, <span class='st'>"2019-01-01 00:00:01.7"</span><span class='op'>)</span>

<span class='fu'>date_time_parse</span><span class='op'>(</span><span class='va'>x</span>, <span class='st'>"America/New_York"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "2019-01-01 00:00:01 EST" "2019-01-01 00:00:01 EST"</div><div class='input'>
<span class='co'># If you manually try and parse those sub-second components with `%4S` to</span>
<span class='co'># read the 2 seconds, 1 decimal point, and 1 fractional component, the</span>
<span class='co'># fractional component will be rounded to the nearest second</span>
<span class='fu'>date_time_parse</span><span class='op'>(</span><span class='va'>x</span>, <span class='st'>"America/New_York"</span>, format <span class='op'>=</span> <span class='st'>"%Y-%m-%d %H:%M:%4S"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "2019-01-01 00:00:01 EST" "2019-01-01 00:00:02 EST"</div><div class='input'>
<span class='co'># If you don't like this, parse the full string as a naive-time,</span>
<span class='co'># then round manually and convert to a POSIXct</span>
<span class='va'>nt</span> <span class='op'>&lt;-</span> <span class='fu'><a href='naive_time_parse.html'>naive_time_parse</a></span><span class='op'>(</span><span class='va'>x</span>, format <span class='op'>=</span> <span class='st'>"%Y-%m-%d %H:%M:%S"</span>, precision <span class='op'>=</span> <span class='st'>"millisecond"</span><span class='op'>)</span>
<span class='va'>nt</span>
</div><div class='output co'>#&gt; &lt;time_point&lt;naive&gt;&lt;millisecond&gt;[2]&gt;
#&gt; [1] "2019-01-01 00:00:01.100" "2019-01-01 00:00:01.700"</div><div class='input'>
<span class='va'>nt</span> <span class='op'>&lt;-</span> <span class='fu'><a href='time-point-rounding.html'>time_point_floor</a></span><span class='op'>(</span><span class='va'>nt</span>, <span class='st'>"second"</span><span class='op'>)</span>
<span class='va'>nt</span>
</div><div class='output co'>#&gt; &lt;time_point&lt;naive&gt;&lt;second&gt;[2]&gt;
#&gt; [1] "2019-01-01 00:00:01" "2019-01-01 00:00:01"</div><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='op'>(</span><span class='va'>nt</span>, <span class='st'>"America/New_York"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "2019-01-01 00:00:01 EST" "2019-01-01 00:00:01 EST"</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Davis Vaughan, <a href='https://www.rstudio.com'><img src='https://www.tidyverse.org/rstudio-logo.svg' alt='RStudio' height='24' /></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


