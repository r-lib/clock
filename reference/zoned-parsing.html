<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Parsing: zoned-time — zoned-parsing • clock</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Parsing: zoned-time — zoned-parsing"><meta name="description" content='There are two parsers into a zoned-time, zoned_time_parse_complete() and
zoned_time_parse_abbrev().
zoned_time_parse_complete()


zoned_time_parse_complete() is a parser for complete date-time strings,
like "2019-01-01T00:00:00-05:00[America/New_York]". A complete date-time
string has both the time zone offset and full time zone name in the string,
which is the only way for the string itself to contain all of the information
required to construct a zoned-time. Because of this,
zoned_time_parse_complete() requires both the %z and %Z commands to be
supplied in the format string.
The default options assume that x should be parsed at second precision,
using a format string of "%Y-%m-%dT%H:%M:%S%Ez[%Z]". This matches the
default result from calling format() on a zoned-time. Additionally, this
format matches the de-facto standard extension to RFC 3339 for creating
completely unambiguous date-times.



zoned_time_parse_abbrev()


zoned_time_parse_abbrev() is a parser for date-time strings containing only
a time zone abbreviation, like "2019-01-01 00:00:00 EST". The time zone
abbreviation is not enough to identify the full time zone name that the
date-time belongs to, so the full time zone name must be supplied as the
zone argument. However, the time zone abbreviation can help with resolving
ambiguity around daylight saving time fallbacks.
For zoned_time_parse_abbrev(), %Z must be supplied and is interpreted as
the time zone abbreviation rather than the full time zone name.
If used, the %z command must parse correctly, but its value will be
completely ignored.
The default options assume that x should be parsed at second precision,
using a format string of "%Y-%m-%d %H:%M:%S %Z". This matches the default
result from calling print() or format(usetz = TRUE) on a POSIXct
date-time.

'><meta property="og:description" content='There are two parsers into a zoned-time, zoned_time_parse_complete() and
zoned_time_parse_abbrev().
zoned_time_parse_complete()


zoned_time_parse_complete() is a parser for complete date-time strings,
like "2019-01-01T00:00:00-05:00[America/New_York]". A complete date-time
string has both the time zone offset and full time zone name in the string,
which is the only way for the string itself to contain all of the information
required to construct a zoned-time. Because of this,
zoned_time_parse_complete() requires both the %z and %Z commands to be
supplied in the format string.
The default options assume that x should be parsed at second precision,
using a format string of "%Y-%m-%dT%H:%M:%S%Ez[%Z]". This matches the
default result from calling format() on a zoned-time. Additionally, this
format matches the de-facto standard extension to RFC 3339 for creating
completely unambiguous date-times.



zoned_time_parse_abbrev()


zoned_time_parse_abbrev() is a parser for date-time strings containing only
a time zone abbreviation, like "2019-01-01 00:00:00 EST". The time zone
abbreviation is not enough to identify the full time zone name that the
date-time belongs to, so the full time zone name must be supplied as the
zone argument. However, the time zone abbreviation can help with resolving
ambiguity around daylight saving time fallbacks.
For zoned_time_parse_abbrev(), %Z must be supplied and is interpreted as
the time zone abbreviation rather than the full time zone name.
If used, the %z command must parse correctly, but its value will be
completely ignored.
The default options assume that x should be parsed at second precision,
using a format string of "%Y-%m-%d %H:%M:%S %Z". This matches the default
result from calling print() or format(usetz = TRUE) on a POSIXct
date-time.

'><meta property="og:image" content="https://clock.r-lib.org/logo.png"><script defer data-domain="clock.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">clock</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.7.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/clock.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/faq.html">Frequently Asked Questions</a></li>
    <li><a class="dropdown-item" href="../articles/motivations.html">Motivations for clock</a></li>
    <li><a class="dropdown-item" href="../articles/recipes.html">Examples and Recipes</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2021/03/clock-0-1-0/">Version 0.1.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-lib/clock/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Parsing: zoned-time</h1>
      <small class="dont-index">Source: <a href="https://github.com/r-lib/clock/blob/main/R/zoned-time.R" class="external-link"><code>R/zoned-time.R</code></a></small>
      <div class="d-none name"><code>zoned-parsing.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>There are two parsers into a zoned-time, <code>zoned_time_parse_complete()</code> and
<code>zoned_time_parse_abbrev()</code>.</p><div class="section">
<h3 id="zoned-time-parse-complete-">zoned_time_parse_complete()<a class="anchor" aria-label="anchor" href="#zoned-time-parse-complete-"></a></h3>


<p><code>zoned_time_parse_complete()</code> is a parser for <em>complete</em> date-time strings,
like <code>"2019-01-01T00:00:00-05:00[America/New_York]"</code>. A complete date-time
string has both the time zone offset and full time zone name in the string,
which is the only way for the string itself to contain all of the information
required to construct a zoned-time. Because of this,
<code>zoned_time_parse_complete()</code> requires both the <code>%z</code> and <code>%Z</code> commands to be
supplied in the <code>format</code> string.</p>
<p>The default options assume that <code>x</code> should be parsed at second precision,
using a <code>format</code> string of <code>"%Y-%m-%dT%H:%M:%S%Ez[%Z]"</code>. This matches the
default result from calling <code><a href="https://rdrr.io/r/base/format.html" class="external-link">format()</a></code> on a zoned-time. Additionally, this
format matches the de-facto standard extension to RFC 3339 for creating
completely unambiguous date-times.</p>
</div>

<div class="section">
<h3 id="zoned-time-parse-abbrev-">zoned_time_parse_abbrev()<a class="anchor" aria-label="anchor" href="#zoned-time-parse-abbrev-"></a></h3>


<p><code>zoned_time_parse_abbrev()</code> is a parser for date-time strings containing only
a time zone abbreviation, like <code>"2019-01-01 00:00:00 EST"</code>. The time zone
abbreviation is not enough to identify the full time zone name that the
date-time belongs to, so the full time zone name must be supplied as the
<code>zone</code> argument. However, the time zone abbreviation can help with resolving
ambiguity around daylight saving time fallbacks.</p>
<p>For <code>zoned_time_parse_abbrev()</code>, <code>%Z</code> must be supplied and is interpreted as
the time zone abbreviation rather than the full time zone name.</p>
<p>If used, the <code>%z</code> command must parse correctly, but its value will be
completely ignored.</p>
<p>The default options assume that <code>x</code> should be parsed at second precision,
using a <code>format</code> string of <code>"%Y-%m-%d %H:%M:%S %Z"</code>. This matches the default
result from calling <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> or <code>format(usetz = TRUE)</code> on a POSIXct
date-time.</p>
</div>

    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">zoned_time_parse_complete</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  format <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  precision <span class="op">=</span> <span class="st">"second"</span>,</span>
<span>  locale <span class="op">=</span> <span class="fu"><a href="clock_locale.html">clock_locale</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">zoned_time_parse_abbrev</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">zone</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  format <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  precision <span class="op">=</span> <span class="st">"second"</span>,</span>
<span>  locale <span class="op">=</span> <span class="fu"><a href="clock_locale.html">clock_locale</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p><code>[character]</code></p>
<p>A character vector to parse.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>These dots are for future extensions and must be empty.</p></dd>


<dt id="arg-format">format<a class="anchor" aria-label="anchor" href="#arg-format"></a></dt>
<dd><p><code>[character / NULL]</code></p>
<p>A format string. A combination of the following commands, or <code>NULL</code>,
in which case a default format string is used.</p>
<p>A vector of multiple format strings can be supplied. They will be tried in
the order they are provided.</p>
<p><strong>Year</strong></p><ul><li><p><code>%C</code>: The century as a decimal number. The modified command <code>%NC</code> where
<code>N</code> is a positive decimal integer specifies the maximum number of
characters to read. If not specified, the default is <code>2</code>. Leading zeroes
are permitted but not required.</p></li>
<li><p><code>%y</code>: The last two decimal digits of the year. If the century is not
otherwise specified (e.g. with <code>%C</code>), values in the range <code>[69 - 99]</code> are
presumed to refer to the years <code>[1969 - 1999]</code>, and values in the range
<code>[00 - 68]</code> are presumed to refer to the years <code>[2000 - 2068]</code>. The
modified command <code>%Ny</code>, where <code>N</code> is a positive decimal integer, specifies
the maximum number of characters to read. If not specified, the default is
<code>2</code>. Leading zeroes are permitted but not required.</p></li>
<li><p><code>%Y</code>: The year as a decimal number. The modified command <code>%NY</code> where <code>N</code>
is a positive decimal integer specifies the maximum number of characters to
read. If not specified, the default is <code>4</code>. Leading zeroes are permitted
but not required.</p></li>
</ul><p><strong>Month</strong></p><ul><li><p><code>%b</code>, <code>%B</code>, <code>%h</code>: The <code>locale</code>'s full or abbreviated case-insensitive
month name.</p></li>
<li><p><code>%m</code>: The month as a decimal number. January is <code>1</code>. The modified command
<code>%Nm</code> where <code>N</code> is a positive decimal integer specifies the maximum number
of characters to read. If not specified, the default is <code>2</code>. Leading zeroes
are permitted but not required.</p></li>
</ul><p><strong>Day</strong></p><ul><li><p><code>%d</code>, <code>%e</code>: The day of the month as a decimal number. The modified
command <code>%Nd</code> where <code>N</code> is a positive decimal integer specifies the maximum
number of characters to read. If not specified, the default is <code>2</code>. Leading
zeroes are permitted but not required.</p></li>
</ul><p><strong>Day of the week</strong></p><ul><li><p><code>%a</code>, <code>%A</code>: The <code>locale</code>'s full or abbreviated case-insensitive weekday
name.</p></li>
<li><p><code>%w</code>: The weekday as a decimal number (<code>0-6</code>), where Sunday is <code>0</code>. The
modified command <code>%Nw</code> where <code>N</code> is a positive decimal integer specifies
the maximum number of characters to read. If not specified, the default is
<code>1</code>. Leading zeroes are permitted but not required.</p></li>
</ul><p><strong>ISO 8601 week-based year</strong></p><ul><li><p><code>%g</code>: The last two decimal digits of the ISO week-based year. The
modified command <code>%Ng</code> where <code>N</code> is a positive decimal integer specifies
the maximum number of characters to read. If not specified, the default is
<code>2</code>. Leading zeroes are permitted but not required.</p></li>
<li><p><code>%G</code>: The ISO week-based year as a decimal number. The modified command
<code>%NG</code> where <code>N</code> is a positive decimal integer specifies the maximum number
of characters to read. If not specified, the default is <code>4</code>. Leading zeroes
are permitted but not required.</p></li>
<li><p><code>%V</code>: The ISO week-based week number as a decimal number. The modified
command <code>%NV</code> where <code>N</code> is a positive decimal integer specifies the maximum
number of characters to read. If not specified, the default is <code>2</code>. Leading
zeroes are permitted but not required.</p></li>
<li><p><code>%u</code>: The ISO weekday as a decimal number (<code>1-7</code>), where Monday is <code>1</code>.
The modified command <code>%Nu</code> where <code>N</code> is a positive decimal integer
specifies the maximum number of characters to read. If not specified, the
default is <code>1</code>. Leading zeroes are permitted but not required.</p></li>
</ul><p><strong>Week of the year</strong></p><ul><li><p><code>%U</code>: The week number of the year as a decimal number. The first Sunday
of the year is the first day of week <code>01</code>. Days of the same year prior to
that are in week <code>00</code>. The modified command <code>%NU</code> where <code>N</code> is a positive
decimal integer specifies the maximum number of characters to read. If not
specified, the default is <code>2</code>. Leading zeroes are permitted but not
required.</p></li>
<li><p><code>%W</code>: The week number of the year as a decimal number. The first Monday
of the year is the first day of week <code>01</code>. Days of the same year prior to
that are in week <code>00</code>. The modified command <code>%NW</code> where <code>N</code> is a positive
decimal integer specifies the maximum number of characters to read. If not
specified, the default is <code>2</code>. Leading zeroes are permitted but not
required.</p></li>
</ul><p><strong>Day of the year</strong></p><ul><li><p><code>%j</code>: The day of the year as a decimal number. January 1 is <code>1</code>. The
modified command <code>%Nj</code> where <code>N</code> is a positive decimal integer specifies
the maximum number of characters to read. If not specified, the default is
<code>3</code>. Leading zeroes are permitted but not required.</p></li>
</ul><p><strong>Date</strong></p><ul><li><p><code>%D</code>, <code>%x</code>: Equivalent to <code>%m/%d/%y</code>.</p></li>
<li><p><code>%F</code>: Equivalent to <code>%Y-%m-%d</code>. If modified with a width (like <code>%NF</code>),
the width is applied to only <code>%Y</code>.</p></li>
</ul><p><strong>Time of day</strong></p><ul><li><p><code>%H</code>: The hour (24-hour clock) as a decimal number. The modified command
<code>%NH</code> where <code>N</code> is a positive decimal integer specifies the maximum number
of characters to read. If not specified, the default is <code>2</code>. Leading zeroes
are permitted but not required.</p></li>
<li><p><code>%I</code>: The hour (12-hour clock) as a decimal number. The modified command
<code>%NI</code> where <code>N</code> is a positive decimal integer specifies the maximum number
of characters to read. If not specified, the default is <code>2</code>. Leading zeroes
are permitted but not required.</p></li>
<li><p><code>%M</code>: The minutes as a decimal number. The modified command <code>%NM</code> where
<code>N</code> is a positive decimal integer specifies the maximum number of
characters to read. If not specified, the default is <code>2</code>. Leading zeroes
are permitted but not required.</p></li>
<li><p><code>%S</code>: The seconds as a decimal number. Leading zeroes are permitted but
not required. If encountered, the <code>locale</code> determines the decimal point
character. Generally, the maximum number of characters to read is
determined by the precision that you are parsing at. For example, a
precision of <code>"second"</code> would read a maximum of 2 characters, while a
precision of <code>"millisecond"</code> would read a maximum of 6 (2 for the values
before the decimal point, 1 for the decimal point, and 3 for the values
after it). The modified command <code>%NS</code>, where <code>N</code> is a positive decimal
integer, can be used to exactly specify the maximum number of characters to
read. This is only useful if you happen to have seconds with more than 1
leading zero.</p></li>
<li><p><code>%p</code>: The <code>locale</code>'s equivalent of the AM/PM designations associated with
a 12-hour clock. The command <code>%I</code> must precede <code>%p</code> in the format string.</p></li>
<li><p><code>%R</code>: Equivalent to <code>%H:%M</code>.</p></li>
<li><p><code>%T</code>, <code>%X</code>: Equivalent to <code>%H:%M:%S</code>.</p></li>
<li><p><code>%r</code>: Equivalent to <code>%I:%M:%S %p</code>.</p></li>
</ul><p><strong>Time zone</strong></p><ul><li><p><code>%z</code>: The offset from UTC in the format <code>[+|-]hh[mm]</code>. For example
<code>-0430</code> refers to 4 hours 30 minutes behind UTC. And <code>04</code> refers to 4 hours
ahead of UTC. The modified command <code>%Ez</code> parses a <code>:</code> between the hours and
minutes and leading zeroes on the hour field are optional:
<code>[+|-]h[h][:mm]</code>. For example <code>-04:30</code> refers to 4 hours 30 minutes behind
UTC. And <code>4</code> refers to 4 hours ahead of UTC.</p></li>
<li><p><code>%Z</code>: The full time zone name or the time zone abbreviation, depending on
the function being used. A single word is parsed. This word can only
contain characters that are alphanumeric, or one of <code>'_'</code>, <code>'/'</code>, <code>'-'</code> or
<code>'+'</code>.</p></li>
</ul><p><strong>Miscellaneous</strong></p><ul><li><p><code>%c</code>: A date and time representation. Equivalent to
<code>%a %b %d %H:%M:%S %Y</code>.</p></li>
<li><p><code>%%</code>: A <code>%</code> character.</p></li>
<li><p><code>%n</code>: Matches one white space character. <code>%n</code>, <code>%t</code>, and a space can be
combined to match a wide range of white-space patterns. For example <code>"%n "</code>
matches one or more white space characters, and <code>"%n%t%t"</code> matches one to
three white space characters.</p></li>
<li><p><code>%t</code>: Matches zero or one white space characters.</p></li>
</ul></dd>


<dt id="arg-precision">precision<a class="anchor" aria-label="anchor" href="#arg-precision"></a></dt>
<dd><p><code>[character(1)]</code></p>
<p>A precision for the resulting zoned-time. One of:</p><ul><li><p><code>"second"</code></p></li>
<li><p><code>"millisecond"</code></p></li>
<li><p><code>"microsecond"</code></p></li>
<li><p><code>"nanosecond"</code></p></li>
</ul><p>Setting the <code>precision</code> determines how much information <code>%S</code> attempts
to parse.</p></dd>


<dt id="arg-locale">locale<a class="anchor" aria-label="anchor" href="#arg-locale"></a></dt>
<dd><p><code>[clock_locale]</code></p>
<p>A locale object created from <code><a href="clock_locale.html">clock_locale()</a></code>.</p></dd>


<dt id="arg-zone">zone<a class="anchor" aria-label="anchor" href="#arg-zone"></a></dt>
<dd><p><code>[character(1)]</code></p>
<p>A full time zone name.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A zoned-time.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>If <code>zoned_time_parse_complete()</code> is given input that is length zero, all
<code>NA</code>s, or completely fails to parse, then no time zone will be able to be
determined. In that case, the result will use <code>"UTC"</code>.</p>
<p>If your date-time strings contain time zone offsets (like <code>-04:00</code>), but
not the full time zone name, you might need <code><a href="sys-parsing.html">sys_time_parse()</a></code>.</p>
<p>If your date-time strings don't contain time zone offsets or the full time
zone name, you might need to use <code><a href="naive_time_parse.html">naive_time_parse()</a></code>. From there, if you
know the time zone that the date-times are supposed to be in, you can convert
to a zoned-time with <code><a href="as_zoned_time.html">as_zoned_time()</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="full-precision-parsing">Full Precision Parsing<a class="anchor" aria-label="anchor" href="#full-precision-parsing"></a></h2>



<p>It is highly recommended to parse all of the information in the date-time
string into a type at least as precise as the string. For example, if your
string has fractional seconds, but you only require seconds, specify a
sub-second <code>precision</code>, then round to seconds manually using whatever
convention is appropriate for your use case. Parsing such a string directly
into a second precision result is ambiguous and undefined, and is unlikely to
work as you might expect.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">zoned_time_parse_complete</span><span class="op">(</span><span class="st">"2019-01-01T01:02:03-05:00[America/New_York]"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;zoned_time&lt;second&gt;&lt;America/New_York&gt;[1]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2019-01-01T01:02:03-05:00"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">zoned_time_parse_complete</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"January 21, 2019 -0500 America/New_York"</span>,</span></span>
<span class="r-in"><span>  format <span class="op">=</span> <span class="st">"%B %d, %Y %z %Z"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;zoned_time&lt;second&gt;&lt;America/New_York&gt;[1]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2019-01-21T00:00:00-05:00"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Nanosecond precision</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="st">"2019/12/31 01:05:05.123456700-05:00[America/New_York]"</span></span></span>
<span class="r-in"><span><span class="fu">zoned_time_parse_complete</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">x</span>,</span></span>
<span class="r-in"><span>  format <span class="op">=</span> <span class="st">"%Y/%m/%d %H:%M:%S%Ez[%Z]"</span>,</span></span>
<span class="r-in"><span>  precision <span class="op">=</span> <span class="st">"nanosecond"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;zoned_time&lt;nanosecond&gt;&lt;America/New_York&gt;[1]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2019-12-31T01:05:05.123456700-05:00"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The `%z` offset must correspond to the true offset that would be used</span></span></span>
<span class="r-in"><span><span class="co"># if the input was parsed as a naive-time and then converted to a zoned-time</span></span></span>
<span class="r-in"><span><span class="co"># with `as_zoned_time()`. For example, the time that was parsed above used an</span></span></span>
<span class="r-in"><span><span class="co"># offset of `-05:00`. We can confirm that this is correct with:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="year_month_day.html">year_month_day</a></span><span class="op">(</span><span class="fl">2019</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="as_naive_time.html">as_naive_time</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="as_zoned_time.html">as_zoned_time</a></span><span class="op">(</span><span class="st">"America/New_York"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;zoned_time&lt;second&gt;&lt;America/New_York&gt;[1]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2019-01-01T01:02:03-05:00"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># So the following would not parse correctly</span></span></span>
<span class="r-in"><span><span class="fu">zoned_time_parse_complete</span><span class="op">(</span><span class="st">"2019-01-01T01:02:03-04:00[America/New_York]"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Failed to parse 1 string at location 1. Returning `NA` at that location.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;zoned_time&lt;second&gt;&lt;America/New_York&gt;[1]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NA</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># `%z` is useful for breaking ties in otherwise ambiguous times. For example,</span></span></span>
<span class="r-in"><span><span class="co"># these two times are on either side of a daylight saving time fallback.</span></span></span>
<span class="r-in"><span><span class="co"># Without the `%z` offset, you wouldn't be able to tell them apart!</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"1970-10-25T01:30:00-04:00[America/New_York]"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"1970-10-25T01:30:00-05:00[America/New_York]"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">zoned_time_parse_complete</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;zoned_time&lt;second&gt;&lt;America/New_York&gt;[2]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "1970-10-25T01:30:00-04:00" "1970-10-25T01:30:00-05:00"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># If you have date-time strings with time zone abbreviations,</span></span></span>
<span class="r-in"><span><span class="co"># `zoned_time_parse_abbrev()` should be able to help. The `zone` must be</span></span></span>
<span class="r-in"><span><span class="co"># provided, because multiple countries may use the same time zone</span></span></span>
<span class="r-in"><span><span class="co"># abbreviation. For example:</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="st">"1970-01-01 02:30:30 IST"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># IST = India Standard Time</span></span></span>
<span class="r-in"><span><span class="fu">zoned_time_parse_abbrev</span><span class="op">(</span><span class="va">x</span>, <span class="st">"Asia/Kolkata"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;zoned_time&lt;second&gt;&lt;Asia/Kolkata&gt;[1]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "1970-01-01T02:30:30+05:30"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># IST = Israel Standard Time</span></span></span>
<span class="r-in"><span><span class="fu">zoned_time_parse_abbrev</span><span class="op">(</span><span class="va">x</span>, <span class="st">"Asia/Jerusalem"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;zoned_time&lt;second&gt;&lt;Asia/Jerusalem&gt;[1]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "1970-01-01T02:30:30+02:00"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The time zone abbreviation is mainly useful for resolving ambiguity</span></span></span>
<span class="r-in"><span><span class="co"># around daylight saving time fallbacks. Without the abbreviation, these</span></span></span>
<span class="r-in"><span><span class="co"># date-times would be ambiguous.</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"1970-10-25 01:30:00 EDT"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"1970-10-25 01:30:00 EST"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">zoned_time_parse_abbrev</span><span class="op">(</span><span class="va">x</span>, <span class="st">"America/New_York"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;zoned_time&lt;second&gt;&lt;America/New_York&gt;[2]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "1970-10-25T01:30:00-04:00" "1970-10-25T01:30:00-05:00"</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/DavisVaughan" class="external-link">Davis Vaughan</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

  </div></footer></body></html>

