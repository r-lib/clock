<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Arithmetic: duration — duration-arithmetic • clock</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Arithmetic: duration — duration-arithmetic"><meta name="description" content="These are duration methods for the
arithmetic generics.
add_years()
add_quarters()
add_months()
add_weeks()
add_days()
add_hours()
add_minutes()
add_seconds()
add_milliseconds()
add_microseconds()
add_nanoseconds()


When adding to a duration using one of these functions, a second duration
is created based on the function name and n. The two durations are then
added together, and the precision of the result is determined as the
more precise precision of the two durations."><meta property="og:description" content="These are duration methods for the
arithmetic generics.
add_years()
add_quarters()
add_months()
add_weeks()
add_days()
add_hours()
add_minutes()
add_seconds()
add_milliseconds()
add_microseconds()
add_nanoseconds()


When adding to a duration using one of these functions, a second duration
is created based on the function name and n. The two durations are then
added together, and the precision of the result is determined as the
more precise precision of the two durations."><meta property="og:image" content="https://clock.r-lib.org/logo.png"><meta name="robots" content="noindex"><script src="https://cdn.jsdelivr.net/gh/posit-dev/supported-by-posit/js/badge.min.js" data-max-height="43" data-light-bg="#666f76" data-light-fg="#f9f9f9"></script><script defer data-domain="clock.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">clock</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.7.4.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/clock.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/faq.html">Frequently Asked Questions</a></li>
    <li><a class="dropdown-item" href="../articles/motivations.html">Motivations for clock</a></li>
    <li><a class="dropdown-item" href="../articles/recipes.html">Examples and Recipes</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2021/03/clock-0-1-0/">Version 0.1.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-lib/clock/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Arithmetic: duration</h1>
      <small class="dont-index">Source: <a href="https://github.com/r-lib/clock/blob/main/R/duration.R" class="external-link"><code>R/duration.R</code></a></small>
      <div class="d-none name"><code>duration-arithmetic.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>These are duration methods for the
<a href="clock-arithmetic.html">arithmetic generics</a>.</p><ul><li><p><code><a href="clock-arithmetic.html">add_years()</a></code></p></li>
<li><p><code><a href="clock-arithmetic.html">add_quarters()</a></code></p></li>
<li><p><code><a href="clock-arithmetic.html">add_months()</a></code></p></li>
<li><p><code><a href="clock-arithmetic.html">add_weeks()</a></code></p></li>
<li><p><code><a href="clock-arithmetic.html">add_days()</a></code></p></li>
<li><p><code><a href="clock-arithmetic.html">add_hours()</a></code></p></li>
<li><p><code><a href="clock-arithmetic.html">add_minutes()</a></code></p></li>
<li><p><code><a href="clock-arithmetic.html">add_seconds()</a></code></p></li>
<li><p><code><a href="clock-arithmetic.html">add_milliseconds()</a></code></p></li>
<li><p><code><a href="clock-arithmetic.html">add_microseconds()</a></code></p></li>
<li><p><code><a href="clock-arithmetic.html">add_nanoseconds()</a></code></p></li>
</ul><p>When adding to a duration using one of these functions, a second duration
is created based on the function name and <code>n</code>. The two durations are then
added together, and the precision of the result is determined as the
<em>more precise precision</em> of the two durations.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'clock_duration'</span></span>
<span><span class="fu"><a href="clock-arithmetic.html">add_years</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">n</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'clock_duration'</span></span>
<span><span class="fu"><a href="clock-arithmetic.html">add_quarters</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">n</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'clock_duration'</span></span>
<span><span class="fu"><a href="clock-arithmetic.html">add_months</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">n</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'clock_duration'</span></span>
<span><span class="fu"><a href="clock-arithmetic.html">add_weeks</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">n</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'clock_duration'</span></span>
<span><span class="fu"><a href="clock-arithmetic.html">add_days</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">n</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'clock_duration'</span></span>
<span><span class="fu"><a href="clock-arithmetic.html">add_hours</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">n</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'clock_duration'</span></span>
<span><span class="fu"><a href="clock-arithmetic.html">add_minutes</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">n</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'clock_duration'</span></span>
<span><span class="fu"><a href="clock-arithmetic.html">add_seconds</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">n</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'clock_duration'</span></span>
<span><span class="fu"><a href="clock-arithmetic.html">add_milliseconds</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">n</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'clock_duration'</span></span>
<span><span class="fu"><a href="clock-arithmetic.html">add_microseconds</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">n</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'clock_duration'</span></span>
<span><span class="fu"><a href="clock-arithmetic.html">add_nanoseconds</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">n</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p><code>[clock_duration]</code></p>
<p>A duration vector.</p></dd>


<dt id="arg-n">n<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p><code>[integer / clock_duration]</code></p>
<p>An integer vector to be converted to a duration, or a duration
corresponding to the arithmetic function being used. This corresponds
to the number of duration units to add. <code>n</code> may be negative to subtract
units of duration.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>These dots are for future extensions and must be empty.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>x</code> after performing the arithmetic, possibly with a more precise
precision.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>You can add calendrical durations to other calendrical durations,
and chronological durations to other chronological durations, but you can't
add a chronological duration to a calendrical duration
(such as adding days and months). For more information, see the
documentation on the <a href="duration-helper.html">duration helper</a> page.</p>
<p><code>x</code> and <code>n</code> are recycled against each other using
<a href="https://vctrs.r-lib.org/reference/theory-faq-recycling.html" class="external-link">tidyverse recycling rules</a>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="duration-helper.html">duration_seconds</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Addition in the same precision</span></span></span>
<span class="r-in"><span><span class="fu"><a href="clock-arithmetic.html">add_seconds</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;duration&lt;second&gt;[10]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 6  7  8  9  10 11 12 13 14 15</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Addition with days, defined as 86400 seconds</span></span></span>
<span class="r-in"><span><span class="fu"><a href="clock-arithmetic.html">add_days</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;duration&lt;second&gt;[1]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 86405</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Similarly, if you start with days and add seconds, you get the common</span></span></span>
<span class="r-in"><span><span class="co"># precision of the two back, which is seconds</span></span></span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="duration-helper.html">duration_days</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="clock-arithmetic.html">add_seconds</a></span><span class="op">(</span><span class="va">y</span>, <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;duration&lt;second&gt;[1]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 86405</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># But you can't add a chronological duration (days) and</span></span></span>
<span class="r-in"><span><span class="co"># a calendrical duration (months)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu"><a href="clock-arithmetic.html">add_months</a></span><span class="op">(</span><span class="va">y</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Error in duration_arith(x, y, names, duration_plus_cpp) : </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Can't combine `x` &lt;duration&lt;day&gt;&gt; and `y` &lt;duration&lt;month&gt;&gt;.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Can't combine calendrical durations with chronological durations.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># You can add years to a duration of months, which adds</span></span></span>
<span class="r-in"><span><span class="co"># an additional 12 months / year</span></span></span>
<span class="r-in"><span><span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="duration-helper.html">duration_months</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="clock-arithmetic.html">add_years</a></span><span class="op">(</span><span class="va">z</span>, <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;duration&lt;month&gt;[1]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 17</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/DavisVaughan" class="external-link">Davis Vaughan</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

  </div></footer></body></html>

