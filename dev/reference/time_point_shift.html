<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Shifting: time point — time_point_shift • clock</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Shifting: time point — time_point_shift"><meta name="description" content="time_point_shift() shifts x to the target weekday. You can
shift to the next or previous weekday. If x is currently on the target
weekday, you can choose to leave it alone or advance it to the next instance
of the target.
Weekday shifting is one of the easiest ways to floor by week while
controlling what is considered the first day of the week. You can also
accomplish this with the origin argument of time_point_floor(), but
this is slightly easier."><meta property="og:description" content="time_point_shift() shifts x to the target weekday. You can
shift to the next or previous weekday. If x is currently on the target
weekday, you can choose to leave it alone or advance it to the next instance
of the target.
Weekday shifting is one of the easiest ways to floor by week while
controlling what is considered the first day of the week. You can also
accomplish this with the origin argument of time_point_floor(), but
this is slightly easier."><meta property="og:image" content="https://clock.r-lib.org/logo.png"><meta name="robots" content="noindex"><script src="https://cdn.jsdelivr.net/gh/posit-dev/supported-by-posit/js/badge.min.js" data-max-height="43" data-light-bg="#666f76" data-light-fg="#f9f9f9"></script><script defer data-domain="clock.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">clock</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.7.3.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/clock.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/faq.html">Frequently Asked Questions</a></li>
    <li><a class="dropdown-item" href="../articles/motivations.html">Motivations for clock</a></li>
    <li><a class="dropdown-item" href="../articles/recipes.html">Examples and Recipes</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2021/03/clock-0-1-0/">Version 0.1.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-lib/clock/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Shifting: time point</h1>
      <small class="dont-index">Source: <a href="https://github.com/r-lib/clock/blob/main/R/time-point.R" class="external-link"><code>R/time-point.R</code></a></small>
      <div class="d-none name"><code>time_point_shift.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>time_point_shift()</code> shifts <code>x</code> to the <code>target</code> weekday. You can
shift to the next or previous weekday. If <code>x</code> is currently on the <code>target</code>
weekday, you can choose to leave it alone or advance it to the next instance
of the <code>target</code>.</p>
<p>Weekday shifting is one of the easiest ways to floor by week while
controlling what is considered the first day of the week. You can also
accomplish this with the <code>origin</code> argument of <code><a href="time-point-rounding.html">time_point_floor()</a></code>, but
this is slightly easier.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">time_point_shift</span><span class="op">(</span><span class="va">x</span>, <span class="va">target</span>, <span class="va">...</span>, which <span class="op">=</span> <span class="st">"next"</span>, boundary <span class="op">=</span> <span class="st">"keep"</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p><code>[clock_time_point]</code></p>
<p>A time point.</p></dd>


<dt id="arg-target">target<a class="anchor" aria-label="anchor" href="#arg-target"></a></dt>
<dd><p><code>[weekday]</code></p>
<p>A weekday created from <code><a href="weekday.html">weekday()</a></code> to target.</p>
<p>Generally this is length 1, but can also be the same length as <code>x</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>These dots are for future extensions and must be empty.</p></dd>


<dt id="arg-which">which<a class="anchor" aria-label="anchor" href="#arg-which"></a></dt>
<dd><p><code>[character(1)]</code></p>
<p>One of:</p><ul><li><p><code>"next"</code>: Shift to the next instance of the <code>target</code> weekday.</p></li>
<li><p><code>"previous</code>: Shift to the previous instance of the <code>target</code> weekday.</p></li>
</ul></dd>


<dt id="arg-boundary">boundary<a class="anchor" aria-label="anchor" href="#arg-boundary"></a></dt>
<dd><p><code>[character(1)]</code></p>
<p>One of:</p><ul><li><p><code>"keep"</code>: If <code>x</code> is currently on the <code>target</code> weekday, return it.</p></li>
<li><p><code>"advance"</code>: If <code>x</code> is currently on the <code>target</code> weekday, advance it
anyways.</p></li>
</ul></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>x</code> shifted to the <code>target</code> weekday.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="as_naive_time.html">as_naive_time</a></span><span class="op">(</span><span class="fu"><a href="year_month_day.html">year_month_day</a></span><span class="op">(</span><span class="fl">2019</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># A Tuesday and Wednesday</span></span></span>
<span class="r-in"><span><span class="fu"><a href="as_weekday.html">as_weekday</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;weekday[2]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] Tue Wed</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">monday</span> <span class="op">&lt;-</span> <span class="fu"><a href="weekday.html">weekday</a></span><span class="op">(</span><span class="va">clock_weekdays</span><span class="op">$</span><span class="va">monday</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Shift to the next Monday</span></span></span>
<span class="r-in"><span><span class="fu">time_point_shift</span><span class="op">(</span><span class="va">x</span>, <span class="va">monday</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;naive_time&lt;day&gt;[2]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2019-01-07" "2019-01-07"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Shift to the previous Monday</span></span></span>
<span class="r-in"><span><span class="co"># This is an easy way to "floor by week" with a target weekday in mind</span></span></span>
<span class="r-in"><span><span class="fu">time_point_shift</span><span class="op">(</span><span class="va">x</span>, <span class="va">monday</span>, which <span class="op">=</span> <span class="st">"previous"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;naive_time&lt;day&gt;[2]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2018-12-31" "2018-12-31"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># What about Tuesday?</span></span></span>
<span class="r-in"><span><span class="va">tuesday</span> <span class="op">&lt;-</span> <span class="fu"><a href="weekday.html">weekday</a></span><span class="op">(</span><span class="va">clock_weekdays</span><span class="op">$</span><span class="va">tuesday</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Notice that the day that was currently on a Tuesday was not shifted</span></span></span>
<span class="r-in"><span><span class="fu">time_point_shift</span><span class="op">(</span><span class="va">x</span>, <span class="va">tuesday</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;naive_time&lt;day&gt;[2]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2019-01-01" "2019-01-08"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># You can force it to `"advance"`</span></span></span>
<span class="r-in"><span><span class="fu">time_point_shift</span><span class="op">(</span><span class="va">x</span>, <span class="va">tuesday</span>, boundary <span class="op">=</span> <span class="st">"advance"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;naive_time&lt;day&gt;[2]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2019-01-08" "2019-01-08"</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/DavisVaughan" class="external-link">Davis Vaughan</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

  </div></footer></body></html>

