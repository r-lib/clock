<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • clock</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://clock.r-lib.org/logo.png"><meta name="robots" content="noindex"><script src="https://cdn.jsdelivr.net/gh/posit-dev/supported-by-posit/js/badge.min.js" data-max-height="43" data-light-bg="#666f76" data-light-fg="#f9f9f9"></script><script defer data-domain="clock.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">clock</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.7.3.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/clock.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/faq.html">Frequently Asked Questions</a></li>
    <li><a class="dropdown-item" href="../articles/motivations.html">Motivations for clock</a></li>
    <li><a class="dropdown-item" href="../articles/recipes.html">Examples and Recipes</a></li>
  </ul></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2021/03/clock-0-1-0/">Version 0.1.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-lib/clock/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/r-lib/clock/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="development version" id="clock-development-version">clock (development version)<a class="anchor" aria-label="anchor" href="#clock-development-version"></a></h2>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.3" id="clock-073">clock 0.7.3<a class="anchor" aria-label="anchor" href="#clock-073"></a></h2><p class="text-muted">CRAN release: 2025-03-21</p>
<ul><li><p><code>%Y</code>, <code>%F</code>, <code>%G</code>, and <code>%c</code> now parse up to 4 <em>characters</em> by default, rather than 4 <em>digits</em>. This is more in line with the C++20 specification and was a change made in the upstream <code>&lt;date.h&gt;</code> parser. Practically, this means that negative years such as <code>-1000-01-01</code> will no longer parse with <code>%Y-%m-%d</code>, and instead requires <code>%5Y-%m-%d</code> to capture the leading <code>-</code> (<a href="https://github.com/r-lib/clock/issues/387" class="external-link">#387</a>).</p></li>
<li><p>tzdb &gt;=0.5.0 is required. Note that older versions of clock are not compatible with tzdb 0.5.0 and above, so if you are having issues (particularly with parsing) please make sure that both clock and tzdb are fully updated (<a href="https://github.com/r-lib/clock/issues/387" class="external-link">#387</a>).</p></li>
<li><p>Fixed <code>-Wdeprecated-literal-operator</code> reported by clang (<a href="https://github.com/r-lib/clock/issues/386" class="external-link">#386</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</p></li>
<li><p>R &gt;=4.0.0 is now required. This is consistent with the standards of the tidyverse.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.2" id="clock-072">clock 0.7.2<a class="anchor" aria-label="anchor" href="#clock-072"></a></h2><p class="text-muted">CRAN release: 2025-01-21</p>
<ul><li><p>Added a <code><a href="https://rdrr.io/r/base/diff.html" class="external-link">diff()</a></code> method for time points and calendars to ensure that durations are always returned, even in the empty result case (<a href="https://github.com/r-lib/clock/issues/364" class="external-link">#364</a>).</p></li>
<li><p>Fixed an issue where clock would not compile on Centos 7 using gcc-5.4.0 due to a <code>constexpr</code> issue (<a href="https://github.com/r-lib/clock/issues/357" class="external-link">#357</a>).</p></li>
<li><p>Fixed a test that failed due to <code><a href="https://rdrr.io/r/base/seq.Date.html" class="external-link">seq.Date()</a></code> now returning integer storage in some cases in the development version of R.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.1" id="clock-071">clock 0.7.1<a class="anchor" aria-label="anchor" href="#clock-071"></a></h2><p class="text-muted">CRAN release: 2024-07-18</p>
<ul><li><p>Removed usage of non-API <code>STRING_PTR()</code> in favor of <code>STRING_PTR_RO()</code>.</p></li>
<li><p>Fixed a gcc warning reported by CRAN related to templated C++ constructors (<a href="https://github.com/r-lib/clock/issues/371" class="external-link">#371</a>).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.0" id="clock-070">clock 0.7.0<a class="anchor" aria-label="anchor" href="#clock-070"></a></h2><p class="text-muted">CRAN release: 2023-05-15</p>
<div class="section level3">
<h3 id="new-features-0-7-0">New features<a class="anchor" aria-label="anchor" href="#new-features-0-7-0"></a></h3>
<ul><li><p>New <code><a href="../reference/year_week_day.html">year_week_day()</a></code> calendar for specifying a date using the year, the week number, and the day of the week, alongside a <code>start</code> value representing the day of the week that is considered the start of the week. Using <code>start = clock_weekdays$monday</code> is identical to the <code><a href="../reference/iso_year_week_day.html">iso_year_week_day()</a></code> calendar, and using <code>start = clock_weekdays$sunday</code> is useful for representing the Epidemiological calendar used by the US CDC guidelines (similar to what is supported by <code><a href="https://lubridate.tidyverse.org/reference/week.html" class="external-link">lubridate::epiweek()</a></code> and <code><a href="https://lubridate.tidyverse.org/reference/year.html" class="external-link">lubridate::epiyear()</a></code>) (<a href="https://github.com/r-lib/clock/issues/110" class="external-link">#110</a>).</p></li>
<li><p>New <code><a href="../reference/date_spanning_seq.html">date_spanning_seq()</a></code> for generating a regular sequence along the full span of a date or date-time vector (i.e. along <code>[min(x), max(x)]</code>). It is similar to <code>tidyr::full_seq()</code>, but is a bit simpler and currently has better handling of some edge cases. Additionally included in the low-level API are <code><a href="../reference/calendar_spanning_seq.html">calendar_spanning_seq()</a></code>, <code><a href="../reference/time_point_spanning_seq.html">time_point_spanning_seq()</a></code>, and <code><a href="../reference/duration_spanning_seq.html">duration_spanning_seq()</a></code> (<a href="https://github.com/r-lib/clock/issues/279" class="external-link">#279</a>).</p></li>
<li><p>New <code><a href="../reference/date_time_info.html">date_time_info()</a></code> and <code><a href="../reference/zoned_time_info.html">zoned_time_info()</a></code> low-level helpers for accessing the previous/next transition times, the offset from UTC, and the current time zone abbreviation (<a href="https://github.com/r-lib/clock/issues/295" class="external-link">#295</a>).</p></li>
<li><p><code><a href="../reference/calendar_leap_year.html">calendar_leap_year()</a></code> now supports the year-quarter-day and iso-year-week-day calendars (<a href="https://github.com/r-lib/clock/issues/332" class="external-link">#332</a>, <a href="https://github.com/r-lib/clock/issues/333" class="external-link">#333</a>).</p></li>
</ul></div>
<div class="section level3">
<h3 id="breaking-changes-0-7-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-7-0"></a></h3>
<ul><li>
<p>The storage mechanism for the duration, sys-time, naive-time, and zoned-time types has been altered to more correctly represent the full range of values allowed by the underlying C++ types. This means that if you have serialized a value of one of these types with an old version of clock, then it will no longer unserialize correctly going forward.</p>
<p>Technically, rather than storing a variable number of integer vectors representing ticks, ticks of a day, and ticks of a second, we now always store values of these types within two double vectors, regardless of the precision. This simplifies the implementation and allows us to represent the full range of possible <code>int64_t</code> values (<a href="https://github.com/r-lib/clock/issues/331" class="external-link">#331</a>).</p>
</li>
</ul></div>
<div class="section level3">
<h3 id="lifecycle-changes-0-7-0">Lifecycle changes<a class="anchor" aria-label="anchor" href="#lifecycle-changes-0-7-0"></a></h3>
<ul><li>
<code><a href="../reference/date-zone.html">date_zone()</a></code> and <code><a href="../reference/date-zone.html">date_set_zone()</a></code> have been soft-deprecated in favor of <code><a href="../reference/date-time-zone.html">date_time_zone()</a></code> and <code><a href="../reference/date-time-zone.html">date_time_set_zone()</a></code> (<a href="https://github.com/r-lib/clock/issues/326" class="external-link">#326</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-and-bug-fixes-0-7-0">Minor changes and bug fixes<a class="anchor" aria-label="anchor" href="#minor-changes-and-bug-fixes-0-7-0"></a></h3>
<ul><li><p>clock now compiles significantly faster (on a 2018 Intel Mac, it used to take ~70 seconds for a full compilation, and now takes ~25 seconds) (<a href="https://github.com/r-lib/clock/issues/322" class="external-link">#322</a>).</p></li>
<li><p><code>%%</code> and <code>%/%</code> operators now return a missing value when the right-hand side is <code>0</code>. For <code>%/%</code>, this is consistent with <code>2L %/% 0L</code>, which returns a missing value, rather than with <code>2 %/% 0</code>, which returns <code>Inf</code>, since infinite durations are not supported (<a href="https://github.com/r-lib/clock/issues/349" class="external-link">#349</a>).</p></li>
<li><p><code><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq()</a></code> methods for durations and time points handle the empty sequence cases of <code>from &gt; to &amp;&amp; by &gt; 0</code> and <code>from &lt; to &amp;&amp; by &lt; 0</code> better when <code>from</code> and <code>to</code> are very far apart (i.e. when they would otherwise result in overflow if they were subtracted).</p></li>
<li><p><code><a href="../reference/zoned-zone.html">zoned_time_zone()</a></code> and <code><a href="../reference/zoned-zone.html">zoned_time_set_zone()</a></code> are no longer generic, and now only work for zoned-times.</p></li>
<li><p>Documented clock’s current stance on leap seconds in the FAQ vignette (clock ignores them like POSIXct) (<a href="https://github.com/r-lib/clock/issues/309" class="external-link">#309</a>).</p></li>
<li><p>Duration vectors now work as <code>.before</code> and <code>.after</code> arguments of <code><a href="https://slider.r-lib.org/reference/slide_index.html" class="external-link">slider::slide_index()</a></code> and friends (<a href="https://github.com/r-lib/clock/issues/306" class="external-link">#306</a>).</p></li>
<li><p>All <code>as_*()</code> generics exported by clock now include <code>...</code> in their signature to help with extensibility of converting to clock types. These are the only clock generics that are currently “blessed” as fully extensible (<a href="https://github.com/r-lib/clock/issues/348" class="external-link">#348</a>).</p></li>
<li><p><code><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character()</a></code> has been implemented for durations.</p></li>
<li><p>Fixed <code><a href="https://vctrs.r-lib.org/reference/vec_ptype_full.html" class="external-link">vec_ptype_full()</a></code> and <code><a href="https://vctrs.r-lib.org/reference/vec_ptype_full.html" class="external-link">vec_ptype_abbr()</a></code> methods for sys-time and naive-time objects (<a href="https://github.com/r-lib/clock/issues/302" class="external-link">#302</a>).</p></li>
<li><p>Many errors have been improved (<a href="https://github.com/r-lib/clock/issues/219" class="external-link">#219</a>, <a href="https://github.com/r-lib/clock/issues/286" class="external-link">#286</a>, <a href="https://github.com/r-lib/clock/issues/595" class="external-link">#595</a>).</p></li>
<li><p>Renamed <code>locale.h</code> to <code>fill.h</code> to avoid clock’s <code>locale.h</code> being chosen over a system header of the same name on some CentOS machines (<a href="https://github.com/r-lib/clock/issues/310" class="external-link">#310</a>).</p></li>
<li><p>Skipped a test on 32-bit architectures to work around a bug in base R (<a href="https://github.com/r-lib/clock/issues/312" class="external-link">#312</a>).</p></li>
<li><p>R &gt;=3.5.0 is now required, which is in line with tidyverse standards.</p></li>
<li><p>vctrs &gt;=0.6.1 and rlang &gt;=1.1.0 are now required.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.1" id="clock-061">clock 0.6.1<a class="anchor" aria-label="anchor" href="#clock-061"></a></h2><p class="text-muted">CRAN release: 2022-07-18</p>
<ul><li><p><code><a href="../reference/date_seq.html">date_seq()</a></code> and the <code><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq()</a></code> methods for the calendar, time point, and duration types now allow <code>from &gt; to</code> when <code>by &gt; 0</code>. This now results in a size zero result rather than an error, which is more in line with <code><a href="https://rlang.r-lib.org/reference/seq2.html" class="external-link">rlang::seq2()</a></code> and generally has more useful programmatic properties (<a href="https://github.com/r-lib/clock/issues/282" class="external-link">#282</a>).</p></li>
<li><p>The sys-time method for <code><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct()</a></code> now correctly promotes to a precision of at least seconds before attempting the conversion. This matches the behavior of the naive-time method (<a href="https://github.com/r-lib/clock/issues/278" class="external-link">#278</a>).</p></li>
<li><p>Removed the dependency on ellipsis in favor of the equivalent functions in rlang (<a href="https://github.com/r-lib/clock/issues/288" class="external-link">#288</a>).</p></li>
<li><p>Updated tests related to writing UTF-8 on Windows and testthat 3.1.2 (<a href="https://github.com/r-lib/clock/issues/287" class="external-link">#287</a>).</p></li>
<li><p>Updated all snapshot tests to use rlang 1.0.0 (<a href="https://github.com/r-lib/clock/issues/285" class="external-link">#285</a>).</p></li>
<li><p>tzdb &gt;=0.3.0 is now required to get access to the latest time zone database information (2022a).</p></li>
<li><p>vctrs &gt;=0.4.1 and rlang &gt;=1.0.4 are now required (<a href="https://github.com/r-lib/clock/issues/297" class="external-link">#297</a>).</p></li>
<li><p>cpp11 &gt;=0.4.2 is now required to ensure that a fix related to unwind protection is included.</p></li>
<li><p>R &gt;=3.4.0 is now required. This is consistent with the standards of the tidyverse.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.0" id="clock-060">clock 0.6.0<a class="anchor" aria-label="anchor" href="#clock-060"></a></h2><p class="text-muted">CRAN release: 2021-12-02</p>
<ul><li><p>New <code><a href="../reference/date_count_between.html">date_count_between()</a></code>, <code><a href="../reference/calendar-count-between.html">calendar_count_between()</a></code>, and <code><a href="../reference/time_point_count_between.html">time_point_count_between()</a></code> for computing the number of units of time between two dates (i.e. the number of years, months, days, or seconds). This has a number of uses, like computing the age of an individual in years, or determining the number of weeks that have passed since the start of the year (<a href="https://github.com/r-lib/clock/issues/266" class="external-link">#266</a>).</p></li>
<li><p>Modulus is now defined between a duration vector and an integer vector through <code>&lt;duration&gt; %% &lt;integer&gt;</code>. This returns a duration vector containing the remainder of the division (<a href="https://github.com/r-lib/clock/issues/273" class="external-link">#273</a>).</p></li>
<li><p>Integer division is now defined for two duration objects through <code>&lt;duration&gt; %/% &lt;duration&gt;</code>. This always returns an integer vector, so be aware that using very precise duration objects (like nanoseconds) can easily generate a division result that is outside the range of an integer. In that case, an <code>NA</code> is returned with a warning.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.0" id="clock-050">clock 0.5.0<a class="anchor" aria-label="anchor" href="#clock-050"></a></h2><p class="text-muted">CRAN release: 2021-10-29</p>
<ul><li><p>New <code><a href="../reference/date-time-parse.html">date_time_parse_RFC_3339()</a></code> and <code><a href="../reference/sys-parsing.html">sys_time_parse_RFC_3339()</a></code> for parsing date-time strings in the <a href="https://datatracker.ietf.org/doc/html/rfc3339" class="external-link">RFC 3339</a> format. This format is a subset of ISO 8601 representing the most common date-time formats seen in internet protocols, and is particularly useful for parsing date-time strings returned by an API. The default format parses strings like <code>"2019-01-01T01:02:03Z"</code> but can be adjusted to parse a numeric offset from UTC with the <code>offset</code> argument, which can parse strings like <code>"2019-01-01T01:02:03-04:30"</code> (<a href="https://github.com/r-lib/clock/issues/254" class="external-link">#254</a>).</p></li>
<li>
<p>To align more with RFC 3339 and ISO 8601 standards, the default formats used in many of the date formatting and parsing functions have been slightly altered. The following changes have been made:</p>
<ul><li>
<p>Date-times (POSIXct):</p>
<ul><li><p><code><a href="../reference/date_format.html">date_format()</a></code> now prints a <code>T</code> between the date and time.</p></li>
<li><p><code><a href="../reference/date-time-parse.html">date_time_parse_complete()</a></code> now expects a <code>T</code> between the date and time by default.</p></li>
</ul></li>
<li>
<p>Sys-times:</p>
<ul><li><p><code><a href="https://rdrr.io/r/base/format.html" class="external-link">format()</a></code> and <code><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character()</a></code> now print a <code>T</code> between the date and time.</p></li>
<li><p><code><a href="../reference/sys-parsing.html">sys_time_parse()</a></code> now expects a <code>T</code> between the date and time by default.</p></li>
</ul></li>
<li>
<p>Naive-times:</p>
<ul><li><p><code><a href="https://rdrr.io/r/base/format.html" class="external-link">format()</a></code> and <code><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character()</a></code> now print a <code>T</code> between the date and time.</p></li>
<li><p><code><a href="../reference/naive_time_parse.html">naive_time_parse()</a></code> now expects a <code>T</code> between the date and time by default.</p></li>
</ul></li>
<li>
<p>Zoned-times:</p>
<ul><li><p><code><a href="https://rdrr.io/r/base/format.html" class="external-link">format()</a></code> and <code><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character()</a></code> now print a <code>T</code> between the date and time.</p></li>
<li><p><code><a href="../reference/zoned-parsing.html">zoned_time_parse_complete()</a></code> now expects a <code>T</code> between the date and time by default.</p></li>
</ul></li>
<li>
<p>Calendars:</p>
<ul><li><p><code><a href="https://rdrr.io/r/base/format.html" class="external-link">format()</a></code> and <code><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character()</a></code> now print a <code>T</code> between the date and time.</p></li>
<li><p><code><a href="../reference/year_month_day_parse.html">year_month_day_parse()</a></code> now expects a <code>T</code> between the date and time by default.</p></li>
</ul></li>
</ul></li>
<li><p>Further improved documentation of undefined behavior resulting from attempting to parse sub-daily components of a string that is intended to be parsed into a Date (<a href="https://github.com/r-lib/clock/issues/258" class="external-link">#258</a>).</p></li>
<li><p>Bumped required minimum version of tzdb to 0.2.0 to get access to the latest time zone database information (2021e) and to fix a Unicode bug on Windows.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.1" id="clock-041">clock 0.4.1<a class="anchor" aria-label="anchor" href="#clock-041"></a></h2><p class="text-muted">CRAN release: 2021-09-21</p>
<ul><li>Updated a test related to upcoming changes in testthat.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.0" id="clock-040">clock 0.4.0<a class="anchor" aria-label="anchor" href="#clock-040"></a></h2><p class="text-muted">CRAN release: 2021-07-22</p>
<ul><li><p>New <code><a href="../reference/date-and-date-time-boundary.html">date_start()</a></code> and <code><a href="../reference/date-and-date-time-boundary.html">date_end()</a></code> for computing the date at the start or end of a particular <code>precision</code>, such as the “end of the month” or the “start of the year”. These are powered by <code><a href="../reference/calendar-boundary.html">calendar_start()</a></code> and <code><a href="../reference/calendar-boundary.html">calendar_end()</a></code>, which allow for even more flexible calendar-specific boundary generation, such as the “last moment in the fiscal quarter” (<a href="https://github.com/r-lib/clock/issues/232" class="external-link">#232</a>).</p></li>
<li><p>New <code><a href="../reference/clock-invalid.html">invalid_remove()</a></code> for removing invalid dates. This is just a wrapper around <code>x[!invalid_detect(x)]</code>, but works nicely with the pipe (<a href="https://github.com/r-lib/clock/issues/229" class="external-link">#229</a>).</p></li>
<li><p>All clock types now support <code><a href="https://rdrr.io/r/base/is.finite.html" class="external-link">is.nan()</a></code>, <code><a href="https://rdrr.io/r/base/is.finite.html" class="external-link">is.finite()</a></code>, and <code><a href="https://rdrr.io/r/base/is.finite.html" class="external-link">is.infinite()</a></code>. Additionally, duration types now support <code><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs()</a></code> and <code><a href="https://rdrr.io/r/base/sign.html" class="external-link">sign()</a></code> (<a href="https://github.com/r-lib/clock/issues/235" class="external-link">#235</a>).</p></li>
<li><p>tzdb 0.1.2 is now required, which fixes compilation issues on RHEL7/Centos (<a href="https://github.com/r-lib/clock/issues/234" class="external-link">#234</a>).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.1" id="clock-031">clock 0.3.1<a class="anchor" aria-label="anchor" href="#clock-031"></a></h2><p class="text-muted">CRAN release: 2021-06-28</p>
<ul><li>
<p>Parsing into a date-time type that is coarser than the original string is now considered ambiguous and undefined behavior. For example, parsing a string with fractional seconds using <code>date_time_parse(x)</code> or <code>naive_time_parse(x, precision = "second")</code> is no longer considered correct. Instead, if you only require second precision from such a string, parse the full string, with fractional seconds, into a clock type that can handle them, then round to seconds using whatever rounding convention is required for your use case, such as <code><a href="../reference/time-point-rounding.html">time_point_floor()</a></code> (<a href="https://github.com/r-lib/clock/issues/230" class="external-link">#230</a>).</p>
<p>For example:</p>
<pre><code><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2019-01-01 00:00:59.123"</span>, <span class="st">"2019-01-01 00:00:59.556"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/naive_time_parse.html">naive_time_parse</a></span><span class="op">(</span><span class="va">x</span>, precision <span class="op">=</span> <span class="st">"millisecond"</span><span class="op">)</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt; &lt;time_point&lt;naive&gt;&lt;millisecond&gt;[2]&gt;</span></span>
<span><span class="co">#&gt; [1] "2019-01-01 00:00:59.123" "2019-01-01 00:00:59.556"</span></span>
<span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/time-point-rounding.html">time_point_round</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"second"</span><span class="op">)</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt; &lt;time_point&lt;naive&gt;&lt;second&gt;[2]&gt;</span></span>
<span><span class="co">#&gt; [1] "2019-01-01 00:00:59" "2019-01-01 00:01:00"</span></span>
<span></span>
<span><span class="fu"><a href="../reference/as_date_time.html">as_date_time</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"America/New_York"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "2019-01-01 00:00:59 EST" "2019-01-01 00:01:00 EST"</span></span></code></pre>
</li>
<li><p>Preemptively updated tests related to upcoming changes in testthat (<a href="https://github.com/r-lib/clock/issues/236" class="external-link">#236</a>).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0" id="clock-030">clock 0.3.0<a class="anchor" aria-label="anchor" href="#clock-030"></a></h2><p class="text-muted">CRAN release: 2021-04-22</p>
<ul><li><p>New <code><a href="../reference/date_seq.html">date_seq()</a></code> for generating date and date-time sequences (<a href="https://github.com/r-lib/clock/issues/218" class="external-link">#218</a>).</p></li>
<li><p>clock now uses the tzdb package to access the date library’s API. This means that the experimental API that was to be used for vroom has been removed in favor of using the one exposed in tzdb.</p></li>
<li><p><code>zone_database_names()</code> and <code>zone_database_version()</code> have been removed in favor of re-exporting <code><a href="https://tzdb.r-lib.org/reference/tzdb_names.html" class="external-link">tzdb_names()</a></code> and <code><a href="https://tzdb.r-lib.org/reference/tzdb_version.html" class="external-link">tzdb_version()</a></code> from the tzdb package.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="clock-020">clock 0.2.0<a class="anchor" aria-label="anchor" href="#clock-020"></a></h2><p class="text-muted">CRAN release: 2021-04-12</p>
<ul><li>
<p>clock now interprets R’s Date class as <em>naive-time</em> rather than <em>sys-time</em>. This means that it no longer assumes that Date has an implied time zone of UTC (<a href="https://github.com/r-lib/clock/issues/203" class="external-link">#203</a>). This generally aligns better with how users think Date should work. This resulted in the following changes:</p>
<ul><li><p><code><a href="../reference/date-zone.html">date_zone()</a></code> now errors with Date input, as naive-times do not have a specified time zone.</p></li>
<li><p><code><a href="../reference/date_parse.html">date_parse()</a></code> now parses into a naive-time, rather than a sys-time, before converting to Date. This means that <code>%z</code> and <code>%Z</code> are now completely ignored.</p></li>
<li><p>The Date method for <code><a href="../reference/date_format.html">date_format()</a></code> now uses the naive-time <code><a href="https://rdrr.io/r/base/format.html" class="external-link">format()</a></code> method rather than the zoned-time one. This means that <code>%z</code> and <code>%Z</code> are no longer valid format commands.</p></li>
<li><p>The zoned-time method for <code><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date()</a></code> now converts to Date through an intermediate naive-time, rather than a sys-time. This means that the printed date will always be retained, which is generally what is expected.</p></li>
<li><p>The Date method for <code><a href="../reference/as_zoned_time.html">as_zoned_time()</a></code> now converts to zoned-time through an intermediate naive-time, rather than a sys-time. This means that the printed date will always attempt to be retained, if possible, which is generally what is expected. In the rare case that daylight saving time makes a direct conversion impossible, <code>nonexistent</code> and <code>ambiguous</code> can be used to resolve any issues.</p></li>
</ul></li>
<li><p>New <code><a href="../reference/as_date.html">as_date()</a></code> and <code><a href="../reference/as_date_time.html">as_date_time()</a></code> for converting to Date and POSIXct respectively. Unlike <code><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date()</a></code> and <code><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct()</a></code>, these functions always treat Date as a naive-time type, which results in more consistent and intuitive conversions. Note that <code><a href="../reference/as_date.html">as_date()</a></code> does conflict with <code><a href="https://lubridate.tidyverse.org/reference/as_date.html" class="external-link">lubridate::as_date()</a></code>, and the lubridate version handles Dates differently (<a href="https://github.com/r-lib/clock/issues/209" class="external-link">#209</a>).</p></li>
<li>
<p>Added two new convenient helpers (<a href="https://github.com/r-lib/clock/issues/197" class="external-link">#197</a>):</p>
<ul><li><p><code><a href="../reference/date-today.html">date_today()</a></code> for getting the current date (Date)</p></li>
<li><p><code><a href="../reference/date-today.html">date_now()</a></code> for getting the current date-time (POSIXct)</p></li>
</ul></li>
<li><p>Fixed a bug where converting from a time point to a Date or POSIXct could round incorrectly (<a href="https://github.com/r-lib/clock/issues/205" class="external-link">#205</a>).</p></li>
<li><p>Errors resulting from invalid dates or nonexistent/ambiguous times are now a little nicer to read through the usage of an info bullet (<a href="https://github.com/r-lib/clock/issues/200" class="external-link">#200</a>).</p></li>
<li><p>Formatting a naive-time with <code>%Z</code> or <code>%z</code> now warns that there were format failures (<a href="https://github.com/r-lib/clock/issues/204" class="external-link">#204</a>).</p></li>
<li><p>Fixed a Solaris ambiguous behavior issue from calling <code>pow(int, int)</code>.</p></li>
<li><p>Linking against cpp11 0.2.7 is now required to fix a rare memory leak issue.</p></li>
<li><p>Exposed an extremely experimental and limited C++ API for vroom (<a href="https://github.com/r-lib/clock/issues/322" class="external-link">#322</a>).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="clock-010">clock 0.1.0<a class="anchor" aria-label="anchor" href="#clock-010"></a></h2><p class="text-muted">CRAN release: 2021-03-31</p>
<ul><li>Added a <code>NEWS.md</code> file to track changes to the package.</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/DavisVaughan" class="external-link">Davis Vaughan</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

  </div></footer></body></html>

